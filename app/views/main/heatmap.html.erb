<div class="content">
    <h1 style="width: 100%; margin: 0; color: white; text-align: center; padding-top: 4vw; position: absolute;">Heatmap of Popularity by Runtime-Rating (Runtime Minutes by 50 minute interval)</h1>
    <div class="graph-row">
        <div id="heatmap_div" style="width: 500px; height: 500px; display: table; align-self: center;"></div>
    </div>
    <div class="grid" style="position: absolute; top: 0; margin-top: 9.5vw; margin-left: 33.7vw;">
        <div class="row">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
        <div class="row">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <div class="row">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <div class="row">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <div class="row">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <div class="row">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <div class="row">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <div class="row">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <div class="row">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
      </div>
</div>

<%= content_tag :div, '', id: 'mycontainerHeat', data: { source: @data_list_5 } %>

<script>
    var data_table = $('#mycontainerHeat').data('source');

    var data = {
        max: data_table["maxValue"],
        min: data_table["minValue"],
        data: data_table["values"]
    };

    var config = {
        container: document.getElementById('heatmap_div'),
        radius: 5,
        maxOpacity: .85,
        minOpacity: .4,
        blur: .75,
        backgroundColor: 'rgba(255, 255, 255, 0.8)',
        gradient: {
            '.05': 'blue',
            '.15': 'green',
            '.5': 'yellow',
            '.8': 'orange',
            '.95': 'red'
        }
    };

    var heatmapInstance = h337.create(config);
    
    heatmapInstance.setData(data);

</script>